---
description: Generate commit messages
alwaysApply: false
---
# Commit Message Standards

## Format Requirements

All commit messages MUST follow this format:
```
<gitmoji> <type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

## Conventional Commits Types

### Primary Types (Required)
- **feat**: âœ¨ `:sparkles:` - A new feature
- **fix**: ğŸ› `:bug:` - A bug fix
- **docs**: ğŸ“ `:memo:` - Documentation only changes
- **style**: ğŸ’„ `:lipstick:` - Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)
- **refactor**: â™»ï¸ `:recycle:` - A code change that neither fixes a bug nor adds a feature
- **perf**: âš¡ï¸ `:zap:` - A code change that improves performance
- **test**: âœ… `:white_check_mark:` - Adding missing tests or correcting existing tests
- **build**: ğŸ“¦ï¸ `:package:` - Changes that affect the build system or external dependencies
- **ci**: ğŸ‘· `:construction_worker:` - Changes to CI configuration files and scripts
- **chore**: ğŸ”§ `:wrench:` - Other changes that don't modify src or test files
- **revert**: âªï¸ `:rewind:` - Reverts a previous commit

### Breaking Changes
- Add `!` after the type/scope to indicate breaking changes
- Use ğŸ’¥ `:boom:` gitmoji for breaking changes
- Example: `ğŸ’¥ feat!: send an email to the customer when a product is shipped`

## Gitmoji Reference

### Common Development Gitmojis
- ğŸ¨ `:art:` - Improve structure/format of code
- ğŸ”¥ `:fire:` - Remove code or files
- ğŸš‘ï¸ `:ambulance:` - Critical hotfix
- ğŸš€ `:rocket:` - Deploy stuff
- ğŸ‰ `:tada:` - Begin a project
- ğŸ”’ï¸ `:lock:` - Fix security issues
- ğŸ”– `:bookmark:` - Release/Version tags
- ğŸš¨ `:rotating_light:` - Fix compiler/linter warnings
- ğŸš§ `:construction:` - Work in progress
- ğŸ’š `:green_heart:` - Fix CI Build
- â¬†ï¸ `:arrow_up:` - Upgrade dependencies
- â¬‡ï¸ `:arrow_down:` - Downgrade dependencies
- ğŸ“Œ `:pushpin:` - Pin dependencies to specific versions
- â• `:heavy_plus_sign:` - Add a dependency
- â– `:heavy_minus_sign:` - Remove a dependency
- ğŸ”¨ `:hammer:` - Add or update development scripts
- ğŸŒ `:globe_with_meridians:` - Internationalization and localization
- âœï¸ `:pencil2:` - Fix typos
- ğŸ”€ `:twisted_rightwards_arrows:` - Merge branches
- ğŸšš `:truck:` - Move or rename resources
- ğŸ“„ `:page_facing_up:` - Add or update license
- ğŸ± `:bento:` - Add or update assets
- â™¿ï¸ `:wheelchair:` - Improve accessibility
- ğŸ’¡ `:bulb:` - Add or update comments in source code
- ğŸ—ƒï¸ `:card_file_box:` - Perform database related changes
- ğŸ”Š `:loud_sound:` - Add or update logs
- ğŸ”‡ `:mute:` - Remove logs
- ğŸ™ˆ `:see_no_evil:` - Add or update a .gitignore file
- ğŸ·ï¸ `:label:` - Add or update types
- ğŸŒ± `:seedling:` - Add or update seed files
- ğŸš© `:triangular_flag_on_post:` - Add, update, or remove feature flags
- ğŸ¥… `:goal_net:` - Catch errors
- ğŸ’« `:dizzy:` - Add or update animations and transitions
- ğŸ—‘ï¸ `:wastebasket:` - Deprecate code that needs to be cleaned up
- ğŸ§ `:monocle_face:` - Data exploration/inspection
- âš°ï¸ `:coffin:` - Remove dead code
- ğŸ§ª `:test_tube:` - Add a failing test
- ğŸ§‘â€ğŸ’» `:technologist:` - Improve developer experience

## Example Commit Messages

### Feature Addition
```
âœ¨ feat(plugin): add WebSocket server implementation

Implement WebSocket server using IINA's ws API to enable
real-time communication between plugin and web interface.

- Add connection management for multiple clients
- Implement command handling for playback controls
- Add status broadcasting to connected clients

Closes #123
```

### Bug Fix
```
ğŸ› fix(ui): resolve touch target sizing on mobile devices

Touch targets were too small on mobile devices, causing
usability issues. Increased minimum touch target size to
44px following accessibility guidelines.
```

### Documentation
```
ğŸ“ docs: update installation instructions

Add detailed setup steps for IINA plugin development
including TypeScript configuration and testing workflow.
```

### Breaking Change
```
ğŸ’¥ feat(api)!: change WebSocket message format

BREAKING CHANGE: WebSocket messages now use a different
structure. Update your client code to use the new format.

Before: { "command": "play" }
After: { "type": "command", "action": "play" }
```

### Chore/Maintenance
```
ğŸ”§ chore: update dependencies to latest versions

- Update TypeScript to 5.3.0
- Update Vite to 5.0.0
- Update Tailwind CSS to 3.4.0
```

### Performance Improvement
```
âš¡ï¸ perf(websocket): optimize message broadcasting

Reduce CPU usage by 30% by implementing message batching
and connection pooling for WebSocket communications.
```

## Scope Guidelines

### Recommended Scopes for This Project
- **plugin**: IINA plugin related changes
- **web**: Web interface related changes
- **ui**: User interface components
- **api**: API or communication protocol changes
- **websocket**: WebSocket communication specific changes
- **deps**: Dependency management
- **config**: Configuration files
- **build**: Build system changes
- **docs**: Documentation changes

## Commit Message Rules

1. **MUST** start with appropriate gitmoji
2. **MUST** use conventional commit type
3. **MUST** have a clear, concise description (max 72 characters for first line)
4. **SHOULD** include scope when applicable
5. **SHOULD** include body for complex changes
6. **MUST** include footer for breaking changes
7. **MUST** use present tense ("add feature" not "added feature")
8. **MUST** use imperative mood ("move cursor to..." not "moves cursor to...")
9. **SHOULD NOT** end description with a period
10. **MUST** separate subject from body with a blank line

## Changelog Generation

These commit messages will be used to automatically generate changelogs with:
- **feat**: New features section
- **fix**: Bug fixes section
- **perf**: Performance improvements section
- **BREAKING CHANGE**: Breaking changes section (major version bump)
- **docs**: Documentation updates section
- **chore/build/ci**: Maintenance section

## Tools Integration

Consider using these tools to enforce standards:
- **commitizen**: Interactive commit message creation
- **commitlint**: Lint commit messages
- **conventional-changelog**: Generate changelogs from commits
- **semantic-release**: Automated versioning and releasing

## Bad Examples (Don't Do This)

âŒ `update stuff`
âŒ `fix bug`
âŒ `WIP`
âŒ `feat: add new feature.`
âŒ `Fixed the WebSocket connection issue`

## Good Examples (Do This)

âœ… `âœ¨ feat(plugin): add WebSocket server implementation`
âœ… `ğŸ› fix(ui): resolve touch target sizing on mobile`
âœ… `ğŸ“ docs: update installation instructions`
âœ… `ğŸ”§ chore(deps): update TypeScript to 5.3.0`
âœ… `âš¡ï¸ perf(websocket): optimize message broadcasting`